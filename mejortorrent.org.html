<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html style="background-color:#9ACD32;height: 100%; width: 100%">
    <head>
        <title>Descarregar TORRENTS</title>
        <meta charset="UTF-8">
        <meta name="referrer" content="unsafe-url" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body style="background-color:#9ACD32;height: 100%; width: 100%">
        <script>
            
            function wait(ms){
                var start = new Date().getTime();
                var end = start;
                while(end < start + ms) {
                  end = new Date().getTime();
               }
             }
           /**
           * Get HTML asynchronously
           * @param  {String}   url      The URL to get HTML from
           * @param  {Function} callback A callback funtion. Pass in "response" variable to use returned HTML.
           */
            var getHTML = function ( url, savevariable, callback ) {
                    // Feature detection
                    if ( !window.XMLHttpRequest ) return;
                    // Create new request
                    var xhr = new XMLHttpRequest();

                    // Setup callback
                    xhr.onload = function() {
                            if ( callback && typeof( callback ) === 'function' ) {
                                    callback( this.responseXML );
                            }
                    }
                    // Get the HTML
                    xhr.open( 'GET', url );
                    xhr.responseType = 'document';
                    xhr.send();

            };
            function eliminarDiacriticosEs(texto) {
                return texto
                       .normalize('NFD')
                       .replace(/([^n\u0300-\u036f]|n(?!\u0303(?![\u0300-\u036f])))[\u0300-\u036f]+/gi,"$1")
                       .normalize();
            }
            function search(){
               var mainNODE = document.getElementById("meri");
               while (mainNODE.firstChild) {
                    mainNODE.removeChild(mainNODE.firstChild);
               }
               var infoNODE = document.getElementById("info"); 
               infoNODE.innerHTML="CERCANT...tingues paciència..";
               
               var x = document.getElementById("search_input").value;
               document.getElementById("search_input_series").value="";
               document.getElementById("search_input_divx_series").value="";
               document.getElementById("search_input_divx").value="";
               
               var regex = /<tr[\s\S]*Peliculas/i;
               //var queryURL = "https://mejortorrent1.com/?s=";
               //var downloadURL = "https://mejortorrent1.com/descargar.php"
               var queryURL = "http://www.mejortorrent.org/secciones.php?sec=buscador&valor="
               var createdQuery = queryURL+x; 

               
               getHTML(createdQuery, "",function(response){
                   var stringui = response.documentElement.innerHTML;
                   var elements = response.getElementsByTagName('tr');
                   var arr = Array.from(elements);
                   for (var i=0; i<arr.length; i++){
                       var childNodes = arr[i].childNodes;
                       
                       if (childNodes.length===2){
                           //console.log(childNodes);
                           var types = childNodes[1];
                           //console.log(type);
                           try{
                             var type = types.innerHTML;
                             var mainNode = childNodes[0].childNodes;
                             var movieFormat = mainNode[2].innerHTML;
                             
                             if (type.includes("Película") && ! movieFormat.includes("1080") && !movieFormat.includes("720")){
                               var nodeWithInfo = mainNode[0];
                               //var movieNAME = nodeWithInfo.innerHTML;
                               //movieNAME = movieNAME.replace(/<font color="darkblue">/gi,"");
                               //movieNAME = movieNAME.replace(/<\/font>/gi,"");
                               //console.log(movieNAME);
                               var movieHREF = nodeWithInfo.href;

                              // var text = /\S[\s\S]*/.exec(movieName);
                               //console.log(text[0]);
                               //console.log(movieHREF);

                               getHTML(movieHREF, i, function(response2){
                                   var movieIMAGE = response2.getElementsByTagName('img');
                                   var arr2 = Array.from(movieIMAGE);
                                   var movieIMAGESOURCE = arr2[1].src;
                                   var movieA = response2.getElementsByTagName('a');
                                   var arr3 = Array.from(movieA);
                                   var movieID;
                                   
                                   var movieNAME = response2.getElementsByTagName('b');
                                   var movieFINALNAME;
                                   var arr5 = Array.from(movieNAME);
                                   
                                   for(var c=0;c<arr5.length;c++){
                                    try {
                                        var stringIncluded = arr5[c].innerHTML.toLowerCase();
                                        var comparedX = x.toLowerCase();
                                        
                                        stringIncluded = eliminarDiacriticosEs(stringIncluded);
                                        comparedX = eliminarDiacriticosEs(comparedX);
                                        //console.log(stringIncluded);
                                       // console.log(comparedX);

                                       if (stringIncluded.includes(comparedX)){
                                         movieFINALNAME = arr5[c].innerHTML;
                                       }
                                    } catch(error){
     
                                    }
                                   }
                                   
                                   for (var y=0;y<arr3.length;y++){
                                        try{
                                           var hrefDownload = arr3[y].href;
                                           if (hrefDownload.includes("tabla=peliculas&id=")){
                                               var previousREGEX = /id=([0-9]+)/gi.exec(hrefDownload)
                                               movieID = previousREGEX[1];
                                           }
                                        }catch(error){ }
                                   }
                                   
                                   
                                   var downloadURL = "http://www.mejortorrent.org/secciones.php?sec=descargas&ap=contar&tabla=peliculas&id=";
                                   var downloadURL2 = "&link_bajar=1";
                                   var craftedDownloadURL=downloadURL+movieID+downloadURL2;
                                   
                                   getHTML(craftedDownloadURL, movieFINALNAME, function(response3){
                                       
                                       var movieAA = response3.getElementsByTagName('a');
                                       var arr4 = Array.from(movieAA);
                                       var finalDownloadLINK;
                                       for (var y=0;y<arr4.length;y++){
                                        try{
                                           var hrefDownload = arr4[y].href;
                                           if (hrefDownload.includes("table=peliculas") && hrefDownload.includes(".torrent")){
                                               finalDownloadLINK = hrefDownload;
                                           }
                                        }catch(error){ }
                                       }
                                       

                                        //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                        var table = document.getElementById("meri");
                                        table.setAttribute('width',"\"100%\"");
                                                 table.setAttribute('border',"\"1\"");
                                                 table.setAttribute('bordercolor',"\"#000000\"");
                                                 table.setAttribute('cellspacing',"\"4\"");
                                                 table.setAttribute('cellpadding',"\"10\"");
                                        var row = table.insertRow(0);
                                        var img = new Image();
                                        img.src = movieIMAGESOURCE;
                                        
                                        var cell1 = row.insertCell(0);
                                        var cell2 = row.insertCell(1);
                                        var cell3 = row.insertCell(2);
                                        
                                        var formulari = document.createElement("form");
                                        formulari.setAttribute('action',finalDownloadLINK);

                                        var input = document.createElement("input");
                                        input.setAttribute('type',"submit");
                                        input.setAttribute('value',"DESCARREGAR");
                                        
                                        var newA = document.createElement("a");
                                        var linkText = document.createTextNode("DESCARREGAR");
                                        newA.appendChild(linkText);
                                        newA.title = "DESCARREGAR";
                                        newA.href = finalDownloadLINK;

                                        formulari.appendChild(input);
                                        cell1.innerHTML = movieFINALNAME;
                                        cell3.appendChild(newA);
                                        cell2.appendChild(img);
                                        infoNODE.innerHTML="";
                                 
                                   });
                                   
                               });
                               

                           }
                     
                            if (mainNODE.childNodes.length<2){
                                infoNODE.innerHTML="NO HI HA RESULTATS";
                            }
                   
                     
                       } catch(error) {
                           infoNODE.innerHTML="NO HI HA RESULTATS";
                       }
                   } 
                   }
               });
               
            }
            
            function search_mejortorrent1(){
               var mainNODE = document.getElementById("meri");
               while (mainNODE.firstChild) {
                    mainNODE.removeChild(mainNODE.firstChild);
               }
               var infoNODE = document.getElementById("info"); 
               infoNODE.innerHTML="CERCANT...tingues paciència..";
               
               var x = document.getElementById("search_mejortorrent1").value;
               document.getElementById("search_input").value="";
               var regex = /<tr[\s\S]*Peliculas/i;
               var queryURL = "https://mejortorrent1.com/?s=";
               var downloadURL = "https://mejortorrent1.com/descargar.php";
               //var queryURL = "http://www.mejortorrent.org/secciones.php?sec=buscador&valor="
               var createdQuery = queryURL+x; 
               //console.log(createdQuery);
               
               getHTML(createdQuery, "",function(response){
                   var stringui = response.documentElement.innerHTML;
                   var elements = response.getElementsByTagName('tr');
                   var arr = Array.from(elements);
                   for (var i=0; i<arr.length; i++){
                       var childNodes = arr[i].childNodes;
                       //console.log(childNodes);
                       if (childNodes[3] != null){
                           //console.log(childNodes[3]);
                           var type = childNodes[3].innerHTML;
                           if (type.includes("Peliculas") && ! type.includes("HD")){
                               var mainNode = childNodes[1].childNodes;
                               //console.log("mainNode");
                               //console.log(mainNode);
                               var nodeWithInfo = mainNode[1];
                               //console.log(nodeWithInfo);
                               var movieName = nodeWithInfo.innerHTML;
                               var movieHREF = nodeWithInfo.href;
                               //console.log(movieName);
                               var text = /\S[\s\S]*/.exec(movieName);
                               //console.log(text[0]);
                               //console.log(movieHREF);
                               
                               getHTML(movieHREF, "", function(response2){
                                   var movieTEXT = response2.documentElement.innerHTML;
                                   var movieIMAGE = response2.getElementsByTagName('img');
                                   var movieFORM = response2.getElementsByTagName('form');
                                   //console.log(movieFORM);
                                   var arr2 = Array.from(movieIMAGE);
                                   var arr3 = Array.from(movieFORM);
                                   var movieInput1Name = arr3[1][1].name;
                                   var movieInput1Value = arr3[1][1].value;
                                   var movieInput2Name = arr3[1][2].name;
                                   var movieInput2Value = arr3[1][2].value;
                                   var movieInput3Value = arr3[1][3].value;
                                   var movieNAME = arr2[1].alt;
                                   //console.log(arr2[1]);
                                   //console.log(arr2[1].alt);
                                   var movieIMAGESOURCE = arr2[1].src;
                                   
                                   
                                 //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                 var table = document.getElementById("meri");
                                 table.setAttribute('width',"\"100%\"");
                                                 table.setAttribute('border',"\"1\"");
                                                 table.setAttribute('bordercolor',"\"#000000\"");
                                                 table.setAttribute('cellspacing',"\"4\"");
                                                 table.setAttribute('cellpadding',"\"10\"");
                                 var img = new Image();
                                 img.src = movieIMAGESOURCE;
                                 var row = table.insertRow(0);
                                 var cell1 = row.insertCell(0);
                                 var cell2 = row.insertCell(1);
                                 var cell3 = row.insertCell(2);						  											  							  											  
                                 var formulari = document.createElement("form");
                                    formulari.setAttribute('method',"post");
                                    formulari.setAttribute('action',downloadURL);
                                 
                                 var input = document.createElement("input");
                                    input.setAttribute('type',"hidden");
                                    input.setAttribute('name',movieInput1Name);
                                    input.setAttribute('value',movieInput1Value);
                                 var input2 = document.createElement("input");
                                    input2.setAttribute('type',"hidden");
                                    input2.setAttribute('name',movieInput2Name);
                                    input2.setAttribute('value',movieInput2Value);
                                    
                                 var input3 = document.createElement("input");
                                    input3.setAttribute('type',"hidden");
                                    input3.setAttribute('name',"hash");
                                    input3.setAttribute('value',movieInput3Value);
                                    input3.setAttribute('id',"hash-post");
                                 
                                 var inputSUBMIT = document.createElement("input");
                                    inputSUBMIT.setAttribute('type',"submit");
                                    inputSUBMIT.setAttribute('value',"DESCARREGAR");
                                    
                                    formulari.appendChild(inputSUBMIT);
                                    formulari.appendChild(input);
                                    formulari.appendChild(input2);
                                    formulari.appendChild(input3);
                                    
                                 cell1.innerHTML = movieNAME;
                                 cell3.appendChild(formulari);
                                 cell2.appendChild(img);
                                 infoNODE.innerHTML="";
                                 
                               });
                               

                           }
                       }
                   }
                   
                   //console.log(mainNODE.childNodes);
                   if (mainNODE.childNodes.length<2){
                       infoNODE.innerHTML="NO HI HA RESULTATS";
                   }
                       
               });
               
            } 
               
       function search_series(){
               var mainNODE = document.getElementById("meri");
               while (mainNODE.firstChild) {
                    mainNODE.removeChild(mainNODE.firstChild);
               }
               var infoNODE = document.getElementById("info"); 
               infoNODE.innerHTML="CERCANT...tingues paciència..";
               
               var x = document.getElementById("search_input_series").value;
               document.getElementById("search_input").value="";
               document.getElementById("search_input_divx").value="";
               document.getElementById("search_input_divx_series").value="";
               
               var regex = /<tr[\s\S]*Series/i;
               //var queryURL = "https://mejortorrent1.com/?s=";
               //var downloadURL = "https://mejortorrent1.com/descargar.php"
               var queryURL = "http://www.mejortorrent.org/secciones.php?sec=buscador&valor="
               var createdQuery = queryURL+x; 

               
               getHTML(createdQuery, "",function(response){
                   var stringui = response.documentElement.innerHTML;
                   var elements = response.getElementsByTagName('tr');
                   var arr = Array.from(elements);
                   for (var i=0; i<arr.length; i++){
                       var childNodes = arr[i].childNodes;
                       
                       if (childNodes.length===2){
                           //console.log(childNodes);
                           var types = childNodes[1];
                           //console.log(type);
                           try{
                             var type = types.innerHTML;
                             var mainNode = childNodes[0].childNodes;
                             var movieFormat = mainNode[2].innerHTML;
                             //console.log(type);
                             //console.log(mainNode);
                             //console.log("__________");
                             
                             if (type.includes("Serie") && ! movieFormat.includes("1080") && !movieFormat.includes("720")){
                               var nodeWithInfo = mainNode[0];
                               //var movieNAME = nodeWithInfo.innerHTML;
                               //movieNAME = movieNAME.replace(/<font color="darkblue">/gi,"");
                               //movieNAME = movieNAME.replace(/<\/font>/gi,"");
                               //console.log(movieNAME);
                               var movieHREF = nodeWithInfo.href;

                              // var text = /\S[\s\S]*/.exec(movieName);
                               //console.log(text[0]);
                               //console.log(movieHREF);

                               getHTML(movieHREF, i, function(response2){
                                   var movieIMAGE = response2.getElementsByTagName('img');
                                   var arr2 = Array.from(movieIMAGE);
                                   var movieIMAGESOURCE = arr2[1].src;
                                   var movieA = response2.getElementsByTagName('a');
                                   var arr3 = Array.from(movieA);
                                   var movieID;
                                   
                                   var movieNAME = response2.getElementsByTagName('b');
                                   var movieFINALNAME;
                                   var arr5 = Array.from(movieNAME);
                                   var index;
                                   
                                   for(var c=0;c<arr5.length;c++){
                              
                                    try {
                                        var stringIncluded = arr5[c].innerHTML.toLowerCase();
                                        var comparedX = x.toLowerCase();
                                        stringIncluded = eliminarDiacriticosEs(stringIncluded);
                                        comparedX = eliminarDiacriticosEs(comparedX);
                                        //console.log(stringIncluded);
                                       // console.log(comparedX);
                                       // console.log("___________");

                                       if (stringIncluded.includes(comparedX)){
                                         movieFINALNAME = arr5[c].innerHTML;
                                         index=c+1;
                                       }
                                       if (index==c){
                                         // console.log(stringIncluded)
                                          movieFINALNAME = movieFINALNAME + arr5[c].innerHTML;
                                       }
                                    } catch(error){
     
                                    }
                                   }
                                   var arrCAPITOLS = [];
                                   for (var y=0;y<arr3.length;y++){
                                        try{
                                           var hrefDownload = arr3[y].href;
                                           if (hrefDownload.includes("serie-episodio")){
                                               var capitolURL = hrefDownload;
                                               arrCAPITOLS.push(capitolURL);
                                           }
                                        }catch(error){ }
                                   }
                                   
                                  
                                                 //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                                 var table = document.getElementById("meri");
                                                 table.setAttribute('width',"\"100%\"");
                                                 table.setAttribute('border',"\"1\"");
                                                 table.setAttribute('bordercolor',"\"#000000\"");
                                                 table.setAttribute('cellspacing',"\"4\"");
                                                 table.setAttribute('cellpadding',"\"10\"");
                                                 var row = table.insertRow(0);
                                                 var img = new Image();
                                                 img.src = movieIMAGESOURCE;

                                                 var cell1 = row.insertCell(0);
                                                 var cell2 = row.insertCell(1);
                                                 var cell3 = row.insertCell(2);

                                                 cell1.innerHTML = movieFINALNAME;
                                                 cell2.appendChild(img);
                                                 
                                                 infoNODE.innerHTML="";
                                   
                                   for (var w=0; w<arrCAPITOLS.length; w++){
                                        getHTML(arrCAPITOLS[w], arrCAPITOLS.length, function(response4){
                                            var capitolSerieLINK = response4.getElementsByTagName('a');
                                            var arrCAPITOLSERIES = Array.from(capitolSerieLINK);
                                            var capitolURL;
                                            
                                            for (var q=0;q<arr3.length;q++){
                                                    try{
                                                       var hrefDownload = arrCAPITOLSERIES[q].href;
                                                       if (hrefDownload.includes("tabla=series")){
                                                           capitolURL = hrefDownload;
                                                          // console.log(capitolURL);
                                                       }
                                                    }catch(error){ }
                                               }
                                            
                                            getHTML(capitolURL, "", function(response3){
                                                var movieAA = response3.getElementsByTagName('a');
                                                var arr4 = Array.from(movieAA);
                                                var finalDownloadLINK;
                                                for (var y=0;y<arr4.length;y++){
                                                 try{
                                                    var hrefDownload = arr4[y].href;
                                                    if (hrefDownload.includes("table=series") && hrefDownload.includes(".torrent")){
                                                        finalDownloadLINK = hrefDownload;
                                                    }
                                                 }catch(error){ }
                                                }
                                                 var newA = document.createElement("a");
                                                 newA.setAttribute('style',"display: block");
                                                 var capitolNAME = /name=(.*).torrent/.exec(finalDownloadLINK) 
                                                 var linkText = document.createTextNode("Descarregar capítol: "+capitolNAME[1]);
                                                 newA.appendChild(linkText);
                                                 newA.title = "DESCARREGAR";
                                                 newA.href = finalDownloadLINK;
                                                 cell3.appendChild(newA);

                                            });

                                        });
                                    }
                               });
                               

                           }
                     
                            if (mainNODE.childNodes.length<2){
                                infoNODE.innerHTML="NO HI HA RESULTATS";
                            }
                   
                     
                       } catch(error) {
                           infoNODE.innerHTML="NO HI HA RESULTATS";
                       }
                   } 
                   }
               });
               
            }
            
            
            
          function search_divxtotal(){
               var mainNODE = document.getElementById("meri");
               while (mainNODE.firstChild) {
                    mainNODE.removeChild(mainNODE.firstChild);
               }
               var infoNODE = document.getElementById("info"); 
               infoNODE.innerHTML="CERCANT...tingues paciència..";
               
               var x = document.getElementById("search_input_divx").value;
               document.getElementById("search_input").value="";
               document.getElementById("search_input_series").value="";
               document.getElementById("search_input_divx_series").value="";
               
               var queryURL = "https://www.divxtotal3.net/?s=";
               var createdQuery = queryURL+x; 
               var queryURL_nextPAGES = "https://www.divxtotal3.net/page/2/?s="+x;
               var queryURL_nextPAGES2 = "https://www.divxtotal3.net/page/3/?s="+x;

               
               getHTML(createdQuery, "",function(response){
               getHTML(queryURL_nextPAGES, "",function(response3){
               getHTML(queryURL_nextPAGES2, "",function(response4){
                   var stringui = response.documentElement.innerHTML;
                   var stringui2 = response3.documentElement.innerHTML;
                   var stringui3 = response4.documentElement.innerHTML;
                   
                   var pages = response.getElementsByTagName('tr');
                   var pages2 = response3.getElementsByTagName('tr');
                   var pages3 = response4.getElementsByTagName('tr');
                   var arrPages = Array.from(pages);
                   var arrPages2 = Array.from(pages2);
                   var arrPages3 = Array.from(pages3);
                   
                   for (var i=0; i<arrPages.length; i++){
                       var childNodes = arrPages[i].childNodes;
                       //var peliculaNAME;
                       //var peliculaPES;
                       var peliculaHREF;
                       
                       if (childNodes.length==9){
                          // peliculaNAME = childNodes[1].childNodes[1].innerHTML;
                           //peliculaPES = childNodes[7].childNodes[0].wholeText;
                           peliculaHREF = childNodes[1].childNodes[1].href;
                           var stringIncluded = peliculaHREF.toLowerCase();
                           var comparedX = x.toLowerCase();
                           stringIncluded = eliminarDiacriticosEs(stringIncluded);
                           comparedX = eliminarDiacriticosEs(comparedX);
                           
                         if (peliculaHREF.includes("peliculas") && stringIncluded.includes(comparedX)){
                             
                           getHTML(peliculaHREF, "",function(response2){
                               var respostaambLINK = response2.getElementsByClassName("linktorrent");
                               var imatgeambLINK = response2.getElementsByClassName("col-lg-3");
                               var pesambLINK = response2.getElementsByClassName("tagitem pull-left");
                               var peliculaPES = pesambLINK[3].nextElementSibling.innerText;
                               var peliculaNAME = response2.getElementsByTagName('h1');
                               console.log(peliculaNAME[0].textContent);
                               
                               
                               var linkFINAL = respostaambLINK[0].href;
                               var imgFINAL = imatgeambLINK[0].childNodes[1].src;
                               var nomFINAL = peliculaNAME[0].textContent;
                               
                               //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                 var table = document.getElementById("meri");
                                 table.setAttribute('width',"\"100%\"");
                                                 table.setAttribute('border',"\"1\"");
                                                 table.setAttribute('bordercolor',"\"#000000\"");
                                                 table.setAttribute('cellspacing',"\"4\"");
                                                 table.setAttribute('cellpadding',"\"10\"");
                                 var img = new Image();
                                 img.src = imgFINAL;
                                 img.setAttribute('height',"165");
                                 img.setAttribute('width',"120");
                                 var row = table.insertRow(0);
                                 var cell1 = row.insertCell(0);
                                 var cell2 = row.insertCell(1);
                                 var cell3 = row.insertCell(2);	
                                 var newA = document.createElement("a");
                                 newA.setAttribute('style',"display: block");
                                 var linkText = document.createTextNode("DESCARREGAR");
                                 
                                 cell1.innerHTML = nomFINAL+" - "+peliculaPES;
                                 cell2.appendChild(img);
                                 infoNODE.innerHTML="";
                                 newA.appendChild(linkText);
                                 newA.title = "DESCARREGAR";
                                 newA.href = linkFINAL;
                                 cell3.appendChild(newA);
                                 


                             });
                         }
                   } 
                   }
                   
                   for (var i=0; i<arrPages2.length; i++){
                       var childNodes = arrPages2[i].childNodes;
                       //var peliculaNAME;
                       //var peliculaPES;
                       var peliculaHREF;
                       
                       if (childNodes.length==9){
                          // peliculaNAME = childNodes[1].childNodes[1].innerHTML;
                           //peliculaPES = childNodes[7].childNodes[0].wholeText;
                           peliculaHREF = childNodes[1].childNodes[1].href;
                           var stringIncluded = peliculaHREF.toLowerCase();
                           var comparedX = x.toLowerCase();
                           stringIncluded = eliminarDiacriticosEs(stringIncluded);
                           comparedX = eliminarDiacriticosEs(comparedX);
                           
                         if (peliculaHREF.includes("peliculas") && stringIncluded.includes(comparedX)){
                             
                           getHTML(peliculaHREF, "",function(response2){
                               var respostaambLINK = response2.getElementsByClassName("linktorrent");
                               var imatgeambLINK = response2.getElementsByClassName("col-lg-3");
                               var pesambLINK = response2.getElementsByClassName("tagitem pull-left");
                               var peliculaPES = pesambLINK[3].nextElementSibling.innerText;
                               var peliculaNAME = response2.getElementsByTagName('h1');
                               console.log(peliculaNAME[0].textContent);
                               
                               
                               var linkFINAL = respostaambLINK[0].href;
                               var imgFINAL = imatgeambLINK[0].childNodes[1].src;
                               var nomFINAL = peliculaNAME[0].textContent;
                               
                               //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                 var table = document.getElementById("meri");
                                 var img = new Image();
                                 img.src = imgFINAL;
                                 img.setAttribute('height',"165");
                                 img.setAttribute('width',"120");
                                 var row = table.insertRow(0);
                                 var cell1 = row.insertCell(0);
                                 var cell2 = row.insertCell(1);
                                 var cell3 = row.insertCell(2);	
                                 var newA = document.createElement("a");
                                 newA.setAttribute('style',"display: block");
                                 var linkText = document.createTextNode("DESCARREGAR");
                                 
                                 cell1.innerHTML = nomFINAL+" - "+peliculaPES;
                                 cell2.appendChild(img);
                                 infoNODE.innerHTML="";
                                 newA.appendChild(linkText);
                                 newA.title = "DESCARREGAR";
                                 newA.href = linkFINAL;
                                 cell3.appendChild(newA);
                                 


                             });
                         }
                   } 
                   }
                   
                   for (var i=0; i<arrPages3.length; i++){
                       var childNodes = arrPages3[i].childNodes;
                       //var peliculaNAME;
                       //var peliculaPES;
                       var peliculaHREF;
                       
                       if (childNodes.length==9){
                          // peliculaNAME = childNodes[1].childNodes[1].innerHTML;
                           //peliculaPES = childNodes[7].childNodes[0].wholeText;
                           peliculaHREF = childNodes[1].childNodes[1].href;
                           var stringIncluded = peliculaHREF.toLowerCase();
                           var comparedX = x.toLowerCase();
                           stringIncluded = eliminarDiacriticosEs(stringIncluded);
                           comparedX = eliminarDiacriticosEs(comparedX);
                         
                         if (/\s/.test(comparedX)) {
                               comparedX = comparedX.split(" ", 1);
                           }
                         if (peliculaHREF.includes("peliculas") && stringIncluded.includes(comparedX)){
                             
                           getHTML(peliculaHREF, "",function(response2){
                               var respostaambLINK = response2.getElementsByClassName("linktorrent");
                               var imatgeambLINK = response2.getElementsByClassName("col-lg-3");
                               var pesambLINK = response2.getElementsByClassName("tagitem pull-left");
                               var peliculaPES = pesambLINK[3].nextElementSibling.innerText;
                               var peliculaNAME = response2.getElementsByTagName('h1');
                               console.log(peliculaNAME[0].textContent);
                               
                               
                               var linkFINAL = respostaambLINK[0].href;
                               var imgFINAL = imatgeambLINK[0].childNodes[1].src;
                               var nomFINAL = peliculaNAME[0].textContent;
                               
                               //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                 var table = document.getElementById("meri");
                                 var img = new Image();
                                 img.src = imgFINAL;
                                 img.setAttribute('height',"165");
                                 img.setAttribute('width',"120");
                                 var row = table.insertRow(0);
                                 var cell1 = row.insertCell(0);
                                 var cell2 = row.insertCell(1);
                                 var cell3 = row.insertCell(2);	
                                 var newA = document.createElement("a");
                                 newA.setAttribute('style',"display: block");
                                 var linkText = document.createTextNode("DESCARREGAR");
                                 
                                 cell1.innerHTML = nomFINAL+" - "+peliculaPES;
                                 cell2.appendChild(img);
                                 infoNODE.innerHTML="";
                                 newA.appendChild(linkText);
                                 newA.title = "DESCARREGAR";
                                 newA.href = linkFINAL;
                                 cell3.appendChild(newA);
                                 


                             });
                         }
                   } 
                   }
                   
               });
              });
              });
                  if (mainNODE.childNodes.length<2){
                      infoNODE.innerHTML="NO HI HA RESULTATS";
                  }
            }
            
            
            function search_divxtotal_series(){
               var mainNODE = document.getElementById("meri");
               while (mainNODE.firstChild) {
                    mainNODE.removeChild(mainNODE.firstChild);
               }
               var infoNODE = document.getElementById("info"); 
               infoNODE.innerHTML="CERCANT...tingues paciència..";
               
               var x = document.getElementById("search_input_divx_series").value;
               document.getElementById("search_input").value="";
               document.getElementById("search_input_series").value="";
               document.getElementById("search_input_divx").value="";
               
               var queryURL = "https://www.divxtotal3.net/?s=";
               var createdQuery = queryURL+x; 
               
               getHTML(createdQuery, "",function(response){
                   
                   var pages = response.getElementsByTagName('tr');
                   var arrPages = Array.from(pages);
                   
                   for (var i=0; i<arrPages.length; i++){
                       var childNodes = arrPages[i].childNodes;
                       //var peliculaNAME;
                       //var peliculaPES;
                       var peliculaHREF;
                       
                       if (childNodes.length==9){
                          // peliculaNAME = childNodes[1].childNodes[1].innerHTML;
                           //peliculaPES = childNodes[7].childNodes[0].wholeText;
                           peliculaHREF = childNodes[1].childNodes[1].href;
                           var stringIncluded = peliculaHREF.toLowerCase();
                           var comparedX = x.toLowerCase();
                           stringIncluded = eliminarDiacriticosEs(stringIncluded);
                           comparedX = eliminarDiacriticosEs(comparedX);
                           console.log(peliculaHREF);
                           
                           if (/\s/.test(comparedX)) {
                               comparedX = comparedX.split(" ", 1);
                           }
                           
                         if (peliculaHREF.includes("series") && stringIncluded.includes(comparedX)){
                             console.log(peliculaHREF);
                           getHTML(peliculaHREF, "",function(response2){
                               var respostaambLINK = response2.getElementsByTagName("tr");
                               var arrRespostes = Array.from(respostaambLINK);
                               var imatgeambLINK = response2.getElementsByClassName("img-responsive");
                               var peliculaNAME = response2.getElementsByTagName('h1');
                               var imgFINAL="";
                               try{
                                   imgFINAL = imatgeambLINK[0].src;
                               } catch(error){
                                   
                               }
                            

                               var nomFINAL = peliculaNAME[0].textContent;

                               //NOW THAT WE HAVE ALL THE INFO, LETS CREATE THE RESULTS
                                 var table = document.getElementById("meri");
                                 table.setAttribute('width',"\"100%\"");
                                                 table.setAttribute('border',"\"1\"");
                                                 table.setAttribute('bordercolor',"\"#000000\"");
                                                 table.setAttribute('cellspacing',"\"4\"");
                                                 table.setAttribute('cellpadding',"\"10\"");
                                 var img = new Image();
                                 img.src = imgFINAL;
                                 img.setAttribute('height',"165");
                                 img.setAttribute('width',"120");
                                 var row = table.insertRow(0);
                                 var cell1 = row.insertCell(0);
                                 var cell2 = row.insertCell(1);
                                 var cell3 = row.insertCell(2);	
                                 
                                 
                                 cell1.innerHTML = nomFINAL;
                                 cell2.appendChild(img);
                                 infoNODE.innerHTML="";
                                 for (var e=0;e<arrRespostes.length;e++){
                                     try{
                                     var tempLINK = arrRespostes[e].childNodes[3].childNodes[0].href;
                                     var compLINK = eliminarDiacriticosEs(tempLINK);    
                                     compLINK = compLINK.toLowerCase();
                                     
                                    if (compLINK.includes(comparedX) && compLINK.includes("torrent")){ 
                                        var newA = document.createElement("a");
                                        newA.setAttribute('style',"display: block");
                                        var tempREGEX = /([^/]*.torrent)/.exec(tempLINK);
                                        var linkText = document.createTextNode(tempREGEX[1]);
                                        newA.appendChild(linkText);
                                        newA.title = "DESCARREGAR";
                                        newA.href = tempLINK;
                                        cell3.appendChild(newA);
                                    }
                                    
                                     }catch(error){
                                         console.log("Hi ha un error")
                                     }
                                    }
      

                             });
                         }
                   } 
                   }
    
               });
                                 if (mainNODE.childNodes.length<2){
                                     infoNODE.innerHTML="NO HI HA RESULTATS";
                                 }
            }
        </script>
        <h1>Cercador TORRENTS</h1>
        <div id="pare" style="display:flex">

            <div id="pelicules" style="background-color:#C0C0C0;border:1px solid black;height: 140px; width: 40%;">
                <h2 align="left" style="margin-left: 10px">PEL·LÍCULES</h2>
                <div style="display:flex;">
                    <input style="margin-left:10px" id="search_input" value="" />
                    <input type="submit" value="CERCA - Pelicules MejorTorrent.ORG" name="search" onclick="search()" />
                </div>
                <div style="display:flex;">
                    <input style="display: block; margin-left:10px; margin-top:10px" id="search_input_divx" value="" />
                    <input style="height: 22px; margin-top:10px" type="submit" value="CERCA - Pelicules DIVXTOTAL" name="searchDivxTotal" onclick="search_divxtotal()" />
                </div>
            </div>
            <div id="series" style="background-color:#C0C0C0;border:1px solid black;height: 140px; width: 40%;margin-right: 5px;margin-left: 5px;">
                <h2 align="left" style="margin-left: 10px">SERIES</h2>
                <div style="display:flex;">
                    <input style="margin-left:10px" id="search_input_series" value="" />
                    <input type="submit" value="CERCA - Series MejorTorrent.ORG" name="search" onclick="search_series()" />
                </div>
                <div style="display:flex;">
                    <input style="display: block; margin-left:10px; margin-top:10px" id="search_input_divx_series" value="" />
                    <input style="height: 22px; margin-top:10px" type="submit" value="CERCA - Series DIVXTOTAL" name="searchDivxTotalSeries" onclick="search_divxtotal_series()" />
                </div>
            </div>
        </div>
        <br>
        <div id="info">
            
        </div>
        <div >
            <table id="meri">
               
            </table>
        </div>
        
    </body>
</html>



